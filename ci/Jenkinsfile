pipeline{
    agent any
    environment{
        def secret = 'some useful text as def'
        def some = "so what is it"
    }
    options{
        //keep only the last 10 builds
        buildDiscarder(logRotator(numToKeepStr:'10'))
        // disable same jobs running in parallel
        disableConcurrentBuilds()      
        // timeout for whole pipeline in case of some step hanging
        // 300s:5 minute
        timeout(time: 300, unit: 'SECONDS')
    }
    stages{
        stage('Git pull'){
            steps{
               echo "${env.JENKINS_URL}"
               echo "${env.BUILD_ID}"
               echo "${secret}"
               echo some
            }
        }
        stage('Npm install'){
            steps{
                echo 'Npm install preocess'
            }
        }
        stage("Build started"){
            steps{
                echo "Build completed...."
                echo secret
            }
        }
    }
}